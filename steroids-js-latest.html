<!DOCTYPE html>  <html> <head>   <title>Steroids.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Steroids.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Steroids</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Current version</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@version: </span><span class="s">&quot;1.0.0&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Public Layer class</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@Layer: </span><span class="nx">Layer</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Public Tab class</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@Tab: </span><span class="nx">Tab</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Public Animation singleton
TODO: refactor into a class that is instantiated</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@Animation: </span><span class="k">new</span> <span class="nx">Animation</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Public LayerCollection singleton</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@layers: </span><span class="k">new</span> <span class="nx">LayerCollection</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Public Modal singleton</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@modal: </span><span class="k">new</span> <span class="nx">Modal</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Public Audio singleton</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@audio: </span><span class="k">new</span> <span class="nx">Audio</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Public Camera singleton</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@camera: </span><span class="k">new</span> <span class="nx">Camera</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Public NavigationBar singleton</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@navigationBar: </span><span class="k">new</span> <span class="nx">NavigationBar</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Public App singleton</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@app: </span><span class="k">new</span> <span class="nx">App</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Public Device singleton</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@device: </span><span class="k">new</span> <span class="nx">Device</span>

  <span class="vi">@eventCallbacks = </span><span class="p">{}</span>

  <span class="vi">@on: </span><span class="nf">(event, callback)-&gt;</span>
    <span class="k">if</span> <span class="nx">@</span><span class="p">[</span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">event</span><span class="si">}</span><span class="s">_has_fired&quot;</span><span class="p">]</span><span class="o">?</span>
      <span class="nx">callback</span><span class="p">()</span>
    <span class="k">else</span>
      <span class="nx">@eventCallbacks</span><span class="p">[</span><span class="nx">event</span><span class="p">]</span> <span class="o">||=</span> <span class="p">[]</span>
      <span class="nx">@eventCallbacks</span><span class="p">[</span><span class="nx">event</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span>


  <span class="vi">@fireSteroidsEvent: </span><span class="nf">(event)-&gt;</span>
    <span class="nx">@</span><span class="p">[</span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">event</span><span class="si">}</span><span class="s">_has_fired&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span>

    <span class="k">if</span> <span class="nx">@eventCallbacks</span><span class="p">[</span><span class="nx">event</span><span class="p">]</span><span class="o">?</span>
      <span class="k">for</span> <span class="nx">callback</span> <span class="k">in</span> <span class="nx">@eventCallbacks</span><span class="p">[</span><span class="nx">event</span><span class="p">]</span>
        <span class="nx">callback</span><span class="p">()</span>
        <span class="nx">@eventCallbacks</span><span class="p">[</span><span class="nx">event</span><span class="p">].</span><span class="nx">splice</span> <span class="nx">@eventCallbacks</span><span class="p">[</span><span class="nx">event</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">callback</span><span class="p">),</span> <span class="mi">1</span>

  <span class="vi">@waitingForComponents: </span><span class="p">[</span>
    <span class="s">&quot;App&quot;</span>
  <span class="p">]</span>

  <span class="vi">@markComponentReady: </span><span class="nf">(model)-&gt;</span>
    <span class="nx">@waitingForComponents</span><span class="p">.</span><span class="nx">splice</span> <span class="nx">@waitingForComponents</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">model</span><span class="p">),</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="nx">@waitingForComponents</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span>
      <span class="nx">@fireSteroidsEvent</span> <span class="s">&quot;ready&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Debugging boolean to enable debug logging</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">debugEnabled: </span><span class="kc">false</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Debug function</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">debug: </span><span class="nf">(msg)-&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="nx">msg</span> <span class="k">if</span> <span class="nx">@debugEnabled</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>App.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               App.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>App description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">App</span> <span class="k">extends</span> <span class="nx">NativeObject</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Steroids.app.path</h3>

<p>Application path relative to OS application directory
Readable after Steroids ready event</p>

<h4>Example:</h4>

<p>Steroids.app.path == "applications/local/123456789/"</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">path: </span><span class="kc">undefined</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h3>Steroids.app.absolutePath</h3>

<p>Application path as an absolute path from device root.
Readable after Steroids ready event</p>

<h4>Example:</h4>

<p>Steroids.app.path == "/var/mobile/Applications/AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA/Scanner.app/Documents/applications/local/123456789/"</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">fullPath: </span><span class="kc">undefined</span>

  <span class="nv">constructor: </span><span class="o">-&gt;</span>
    <span class="nx">@getPath</span> <span class="p">{},</span> <span class="nv">onSuccess: </span><span class="p">(</span><span class="nx">params</span><span class="p">)</span><span class="o">=&gt;</span>
      <span class="vi">@path = </span><span class="nx">params</span><span class="p">.</span><span class="nx">applicationPath</span>
      <span class="vi">@fullPath = </span><span class="nx">params</span><span class="p">.</span><span class="nx">applicationFullPath</span>
      <span class="nx">Steroids</span><span class="p">.</span><span class="nx">markComponentReady</span><span class="p">(</span><span class="s">&quot;App&quot;</span><span class="p">)</span>

  <span class="nv">getPath: </span><span class="nf">(options, callbacks)-&gt;</span>
    <span class="nx">@nativeCall</span>
      <span class="nv">method: </span><span class="s">&quot;getApplicationPath&quot;</span>
      <span class="nv">parameters: </span><span class="p">{}</span>
      <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
      <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>Animation.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Animation.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Animation description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Animation</span> <span class="k">extends</span> <span class="nx">NativeObject</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Steroids.Animation.start</h3>

<p>Performs a native transition effect on the screen.</p>

<p>Parameters:
  name:
    The transition to perform.
    This parameter is required.
  curve:
    The velocity distribution of the transition.
    This parameter is optional.
    Default value: easeInOut
  duration:
    The duration of the transition as an integer or decimal number.
    This parameter is optional.
    Default value: 0.7</p>

<p>Valid parameter values:
  name:
    fade
      A transition that dissolves from one view to the next.
    curlUp
      A transition that curls a view up from the bottom.
    curlDown
      A transition that curls a view down from the top.
    flipVerticalFromBottom
      A transition that flips a view around its horizontal axis from bottom to top.
    flipVerticalFromTop
      A transition that flips a view around its horizontal axis from top to bottom.
    flipHorizontalFromLeft
      A transition that flips a view around its vertical axis from left to right.
    flipHorizontalFromRight
      A transition that flips a view around its vertical axis from right to left.
    slideFromLeft
      A transition that slides the next view in from the left edge of the original view.
    slideFromRight
      A transition that slides the next view in from the right edge of the original view.
    slideFromTop
      A transition that slides the next view in from the top edge of the original view.
    slideFromBottom
      A transition that slides the next view in from the bottom edge of the original view.</p>

<p>curve:
    easeInOut
      An ease-in ease-out curve causes the animation to begin slowly, accelerate through the middle of its duration, and then slow again before completing.
    easeIn
      An ease-in curve causes the animation to begin slowly, and then speed up as it progresses.
    easeOut
      An ease-out curve causes the animation to begin quickly, and then slow as it completes.
    linear
      A linear animation curve causes an animation to occur evenly over its duration.</p>

<h4>Examples:</h4>

<p>Steroids.Animation.start({
  name: "curlUp",
  curve: "easeInOut",
  duration: 0.7
}, { onSuccess: function() {
  console.log("Animation complete");
}, onFailure: function(e) {
  console.log("Animation received error: " + e);
}});</p>

<p>Steroids.Animation.start({
  name: "curlDown"
}</p>

<h4>DEPRECATION NOTICE:</h4>

<p>This API will be refactored to be used as follows:</p>

<p>var animation = new Steroids.Animation(options)
animation.start()</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">start: </span><span class="nf">(options, callbacks={})-&gt;</span>
    <span class="nx">@nativeCall</span>
      <span class="nv">method: </span><span class="s">&quot;performTransition&quot;</span>
      <span class="nv">parameters: </span><span class="p">{</span>
        <span class="nv">transition: </span><span class="nx">options</span><span class="p">.</span><span class="nx">name</span>
        <span class="nv">curve: </span><span class="nx">options</span><span class="p">.</span><span class="nx">curve</span><span class="o">||</span><span class="s">&quot;easeInOut&quot;</span>
        <span class="nv">duration: </span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span><span class="o">||</span><span class="mf">0.7</span>
      <span class="p">}</span>
      <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
      <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>Audio.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Audio.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Audio description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Audio</span> <span class="k">extends</span> <span class="nx">NativeObject</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Steroids.audio.play</h3>

<p>Play an audio file from the file system</p>

<h4>Examples:</h4>

<p>Steroids.audio.play({
  path: "sounds/drum.mp3"
});</p>

<p>Steroids.audio.play({
  absolutePath: Steroids.app.absolutePath + "/sounds/drum.mp3"
});</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">play: </span><span class="nf">(options, callbacks={})-&gt;</span>
    <span class="nx">Steroids</span><span class="p">.</span><span class="kc">on</span> <span class="s">&quot;ready&quot;</span><span class="p">,</span> <span class="p">()</span><span class="o">=&gt;</span>
      <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">absolutePath</span>
        <span class="nv">mediaPath = </span><span class="nx">options</span><span class="p">.</span><span class="nx">absolutePath</span>
      <span class="k">else</span>
        <span class="nv">mediaPath = </span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">Steroids</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">path</span><span class="si">}</span><span class="s">/</span><span class="si">#{</span><span class="nx">options</span><span class="p">.</span><span class="nx">path</span><span class="si">}</span><span class="s">&quot;</span>

      <span class="nx">@nativeCall</span>
        <span class="nv">method: </span><span class="s">&quot;play&quot;</span>
        <span class="nv">parameters: </span><span class="p">{</span>
          <span class="nv">filenameWithPath: </span><span class="nx">mediaPath</span>
        <span class="p">}</span>
        <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
        <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h3>Steroids.audio.prime()</h3>

<p>Preload the native audio framework to play sounds instantly</p>

<h4>Example:</h4>

<p>Steroids.audio.prime();</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">prime: </span><span class="nf">(options={}, callbacks={})-&gt;</span>
    <span class="nx">@nativeCall</span>
      <span class="nv">method: </span><span class="s">&quot;primeAudioPlayer&quot;</span>
      <span class="nv">parameters: </span><span class="nx">options</span>
      <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
      <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>Button.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Button.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Button description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Button</span> <span class="k">extends</span> <span class="nx">NativeObject</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Steroids.navigationBar.rightButton.show</h3>

<p>Show a button on the right side of navigation bar</p>

<h4>Example:</h4>

<p>Steroids.navigationBar.rightButton.show({
  title: 'Settings'
},{
  onSuccess: function() {
    console.log("Button set.");
  },
  onRecurring: function() {
    console.log("User tapped the button");
  }
});</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">show: </span><span class="nf">(options, callbacks={})-&gt;</span>
    <span class="nx">@nativeCall</span>
      <span class="nv">method: </span><span class="s">&quot;showNavigationBarRightButton&quot;</span>
      <span class="nv">parameters:</span>
        <span class="nv">title: </span><span class="nx">options</span><span class="p">.</span><span class="nx">title</span>
      <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
      <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span>
      <span class="nv">recurringCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onRecurring</span><span class="p">]</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>Camera.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Camera.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Camera description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Camera</span> <span class="k">extends</span> <span class="nx">NativeObject</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Steroids.camera.flash</h3>

<p>Singleton representing the flash torch of the device</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">flash: </span><span class="k">new</span> <span class="nx">Flash</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>Device.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Device.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Device description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Device</span> <span class="k">extends</span> <span class="nx">NativeObject</span>
  <span class="nv">constructor: </span><span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Steroids.device.ping</h3>

<p>Ping the native side using given payload</p>

<h4>Example:</h4>

<p>Steroids.device.ping({data: 'BIGDATA'}, {
  onSuccess: function(parameters){
    parameters.message == 'pong' // => true
  }
});</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">ping: </span><span class="nf">(options, callbacks={})-&gt;</span>
    <span class="nx">@nativeCall</span>
      <span class="nv">method: </span><span class="s">&quot;ping&quot;</span>
      <span class="nv">parameters:</span>
        <span class="nv">payload: </span><span class="nx">options</span><span class="p">.</span><span class="nx">data</span>
      <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
      <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>Flash.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Flash.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Flash description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Flash</span> <span class="k">extends</span> <span class="nx">NativeObject</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Steroids.camera.flash.toggle</h3>

<p>Toggles the flash torch either on or off.</p>

<h4>Example:</h4>

<p>Steroids.camera.flash.toggle({}, {onSuccess: function() {
  console.log("Flash toggled");
}});</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">toggle: </span><span class="nf">(options={}, callbacks={})-&gt;</span>
    <span class="nx">@nativeCall</span>
      <span class="nv">method: </span><span class="s">&quot;cameraFlashToggle&quot;</span>
      <span class="nv">parameters: </span><span class="nx">options</span>
      <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
      <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>NavigationBar.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               NavigationBar.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Navigation bar description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">NavigationBar</span> <span class="k">extends</span> <span class="nx">NativeObject</span>
  <span class="nv">constructor: </span><span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Singleton Button representing the button on the right side of navigation bar.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">rightButton: </span><span class="k">new</span> <span class="nx">Button</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h3>Steroids.navigationBar.show</h3>

<p>Show navigationBar in current layer</p>

<p>Parameters:
  title:
    Text visible in the center of navigation bar.</p>

<h4>Example:</h4>

<p>Steroids.navigationBar.show({
  title: 'My Nav Title'
},{
  onSuccess: function() {
    console.log("Navigation bar is now visible");
  },
  onFailure: function(e) {
    console.log("Navigation bar could not be shown: " + e);
  }
});</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">show: </span><span class="nf">(options={}, callbacks={})-&gt;</span>
    <span class="nx">@nativeCall</span>
      <span class="nv">method: </span><span class="s">&quot;showNavigationBar&quot;</span>
      <span class="nv">parameters:</span>
        <span class="nv">title: </span><span class="nx">options</span><span class="p">.</span><span class="nx">title</span>
      <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
      <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>LayerCollection.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               LayerCollection.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>LayerCollection description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">LayerCollection</span> <span class="k">extends</span> <span class="nx">NativeObject</span>
  <span class="nv">constructor: </span><span class="o">-&gt;</span>
    <span class="vi">@array = </span><span class="p">[]</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Steroids.layers.pop</h3>

<p>Removes the topmost layer on screen.</p>

<h4>Example:</h4>

<p>Steroids.layers.pop({}, { onSuccess: function() {
  console.log("Layer is being popped");
}, onFailure: function(e) {
  console.log("Layer could not be popped: " + e);
}});</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">pop: </span><span class="nf">(options={}, callbacks={})-&gt;</span>
    <span class="nv">defaultOnSuccess = </span><span class="p">()</span><span class="o">=&gt;</span>
      <span class="nx">@array</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span>

    <span class="nx">@nativeCall</span>
      <span class="nv">method: </span><span class="s">&quot;popLayer&quot;</span>
      <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">defaultOnSuccess</span><span class="p">,</span> <span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
      <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span>
    <span class="nx">@array</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h3>Steroids.layers.push</h3>

<p>Pushes a Layer class object to be shown on screen.</p>

<p>Parameters:
  layer:
    Layer object to be pushed</p>

<h4>Example:</h4>

<p>var layer = new Steroids.Layer({
  location: "http://google.com/"
});</p>

<p>Steroids.layers.push({
  layer: layer
}, { onSuccess: function() {
  console.log("Layer is being pushed");
}, onFailure: function(e) {
  console.log("Layer could not be pushed: "+ e);
}});</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">push: </span><span class="nf">(options={}, callbacks={})-&gt;</span>
    <span class="nv">defaultOnSuccess = </span><span class="p">()</span><span class="o">=&gt;</span>
      <span class="p">()</span><span class="o">=&gt;</span><span class="nx">@array</span><span class="p">.</span><span class="nx">push</span> <span class="nx">options</span><span class="p">.</span><span class="nx">layer</span>

    <span class="nv">parameters =</span>
      <span class="nv">url: </span><span class="nx">options</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">location</span>

    <span class="nv">parameters.pushAnimation = </span><span class="nx">options</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">pushAnimation</span> <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">pushAnimation</span><span class="o">?</span>
    <span class="nv">parameters.pushAnimationDuration = </span><span class="nx">options</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">pushAnimationDuration</span> <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">pushAnimationDuration</span><span class="o">?</span>
    <span class="nv">parameters.popAnimation = </span><span class="nx">options</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">popAnimation</span> <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">popAnimation</span><span class="o">?</span>
    <span class="nv">parameters.popAnimationDuration = </span><span class="nx">options</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">popAnimationDuration</span> <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">popAnimationDuration</span><span class="o">?</span>

    <span class="nx">@nativeCall</span>
      <span class="nv">method: </span><span class="s">&quot;openLayer&quot;</span>
      <span class="nv">parameters: </span><span class="nx">parameters</span>
      <span class="nv">successCallbacks: </span><span class="p">[</span><span class="nx">defaultOnSuccess</span><span class="p">,</span> <span class="nx">callbacks</span><span class="p">.</span><span class="nx">onSuccess</span><span class="p">]</span>
      <span class="nv">failureCallbacks: </span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">onFailure</span><span class="p">]</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>Layer.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Layer.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Layer description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Layer</span> <span class="k">extends</span> <span class="nx">NativeObject</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>new Steroids.Layer</h3>

<p>Initializes a new Layer object for use with other navigation APIs</p>

<p>Layer attributes:
  location:
    The document location for the new layer
    This attribute is required.
  pushAnimation:
    name of animation used when the layer is shown on screen
    This attribute is optional.
    Defaults to native behaviour. On iOS new layers slide in from the right edge of the original view.
  pushAnimationDuration:
    duration of animation used when the layer is shown on screen
    An integer or decimal number.
    This parameter is optional.
    Default value: 0.7
  popAnimation:
    name of animation used when the layer is removed from screen
    This attribute is optional.
    Defaults to native behaviour. On iOS removed layers slide out towards the right edge of the removed view.
  popAnimationDuration:
    duration of animation used when the layer is removed from screen
    An integer or decimal number.
    This attribute is optional.
    Default value: 0.7</p>

<p>Valid values for attributes:
  location:
    Can be file URL path relative to the application directory. Example value: 'index.html'
    Can be a local URL. Files are served from the application directory. Example value: "http://localhost:13101/" (would serve "/index.html")
    Can be a remote URL. All reachable URLs are valid. Example value: "http://www.google.com"
  pushAnimation and popAnimation:
    fade
      A transition that dissolves from one view to the next.
    curlUp
      A transition that curls a view up from the bottom.
    curlDown
      A transition that curls a view down from the top.
    flipVerticalFromBottom
      A transition that flips a view around its horizontal axis from bottom to top.
    flipVerticalFromTop
      A transition that flips a view around its horizontal axis from top to bottom.
    flipHorizontalFromLeft
      A transition that flips a view around its vertical axis from left to right.
    flipHorizontalFromRight
      A transition that flips a view around its vertical axis from right to left.</p>

<h4>Example:</h4>

<p>var layer = new Steroids.Layer({
  location: "http://google.com/"
});</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">constructor: </span><span class="nf">(options)-&gt;</span>
    <span class="vi">@location = </span><span class="nx">options</span><span class="p">.</span><span class="nx">location</span>
    <span class="vi">@pushAnimation = </span><span class="nx">options</span><span class="p">.</span><span class="nx">pushAnimation</span> <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">pushAnimation</span><span class="o">?</span>
    <span class="vi">@pushAnimationDuration = </span><span class="nx">options</span><span class="p">.</span><span class="nx">pushAnimationDuration</span> <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">pushAnimationDuration</span><span class="o">?</span>
    <span class="vi">@popAnimation = </span><span class="nx">options</span><span class="p">.</span><span class="nx">popAnimation</span> <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">popAnimation</span><span class="o">?</span>
    <span class="vi">@popAnimationDuration = </span><span class="nx">options</span><span class="p">.</span><span class="nx">popAnimationDuration</span> <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">popAnimationDuration</span><span class="o">?</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>Tab.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Tab.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Tab Description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Tab</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>new Steroids.Tab</h3>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">constructor: </span><span class="o">-&gt;</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>NativeObject.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               NativeObject.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>NativeObject description</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">NativeObject</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Communication endpoint to native API
Native bridge is the communication layer from WebView to Native
Valid values are subclasses of Bridge</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">nativeBridge: </span><span class="k">new</span> <span class="nx">WebsocketBridge</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Run passed recurringCallbacks on API call</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">didOccur: </span><span class="nf">(options, parameters) -&gt;</span>
    <span class="k">for</span> <span class="nx">callback</span> <span class="k">in</span> <span class="nx">options</span><span class="p">.</span><span class="nx">recurringCallbacks</span> <span class="k">when</span> <span class="nx">callback</span><span class="o">?</span>
      <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">@</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Run passed successCallbacks on API call</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">didHappen: </span><span class="nf">(options, parameters) -&gt;</span>
    <span class="k">for</span> <span class="nx">callback</span> <span class="k">in</span> <span class="nx">options</span><span class="p">.</span><span class="nx">successCallbacks</span> <span class="k">when</span> <span class="nx">callback</span><span class="o">?</span>
      <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">@</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Run passed failureCallbacks on API call</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">didFail: </span><span class="nf">(options)-&gt;</span>
    <span class="k">for</span> <span class="nx">callback</span> <span class="k">in</span> <span class="nx">options</span><span class="p">.</span><span class="nx">failureCallbacks</span> <span class="k">when</span> <span class="nx">callback</span><span class="o">?</span>
      <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">@</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Call to native layer via native bridge</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">nativeCall: </span><span class="nf">(options) -&gt;</span>
    <span class="nx">@nativeBridge</span><span class="p">.</span><span class="nx">send</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>options.method is the native API call name</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">method: </span><span class="nx">options</span><span class="p">.</span><span class="nx">method</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>options.parameters is a parameters object for API call</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">parameters: </span><span class="nx">options</span><span class="p">.</span><span class="nx">parameters</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>options.callbacks should have successCallbacks, recurringCallbacks and failureCallbacks function arrays</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">callbacks:</span>
        <span class="nv">recurring: </span><span class="p">(</span><span class="nx">parameters</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">@didOccur</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">)</span>
        <span class="nv">success: </span><span class="p">(</span><span class="nx">parameters</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">@didHappen</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">)</span>
        <span class="nv">failure: </span><span class="p">(</span><span class="nx">parameters</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">@didFail</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">)</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>Bridge.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Bridge.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Bridge</span>
  <span class="nv">constructor: </span><span class="o">-&gt;</span>

  <span class="nv">send: </span><span class="nf">(options)-&gt;</span>
    <span class="k">throw</span> <span class="s">&quot;ERROR: Bridge.send not overridden by subclass!&quot;</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> <hr><!DOCTYPE html>  <html> <head>   <title>WebsocketBridge.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="NativeObject.html">                 NativeObject.coffee               </a>                                           <a class="source" href="Steroids.html">                 Steroids.coffee               </a>                                           <a class="source" href="Bridge.html">                 Bridge.coffee               </a>                                           <a class="source" href="WebsocketBridge.html">                 WebsocketBridge.coffee               </a>                                           <a class="source" href="Animation.html">                 Animation.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Audio.html">                 Audio.coffee               </a>                                           <a class="source" href="Button.html">                 Button.coffee               </a>                                           <a class="source" href="Camera.html">                 Camera.coffee               </a>                                           <a class="source" href="Device.html">                 Device.coffee               </a>                                           <a class="source" href="Flash.html">                 Flash.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="LayerCollection.html">                 LayerCollection.coffee               </a>                                           <a class="source" href="Modal.html">                 Modal.coffee               </a>                                           <a class="source" href="NavigationBar.html">                 NavigationBar.coffee               </a>                                           <a class="source" href="Tab.html">                 Tab.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               WebsocketBridge.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Communication bridge that utilizes a websocket through the network layer</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">WebsocketBridge</span> <span class="k">extends</span> <span class="nx">Bridge</span>
  <span class="nv">constructor: </span><span class="nf">()-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Use reopen to open WebSocket</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">@reopen</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Unique identifier to make named callbacks unique</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">uid: </span><span class="mi">0</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Stored callbacks</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">callbacks: </span><span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Open WebSocket connection to Native</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">reopen: </span><span class="p">()</span><span class="o">=&gt;</span>
    <span class="vi">@websocket = </span><span class="k">new</span> <span class="nx">WebSocket</span> <span class="s">&quot;ws://localhost:31337&quot;</span>
    <span class="vi">@websocket.onmessage = </span><span class="nx">@message_handler</span>
    <span class="vi">@websocket.onclose = </span><span class="nx">@reopen</span>
    <span class="nx">@websocket</span><span class="p">.</span><span class="nx">addEventListener</span> <span class="s">&quot;open&quot;</span><span class="p">,</span> <span class="nx">@map_context</span>
    <span class="nx">@map_context</span><span class="p">()</span>
    <span class="k">return</span> <span class="kc">false</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Map current context so that native calls know where to send responses</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">map_context: </span><span class="p">()</span><span class="o">=&gt;</span>
    <span class="k">if</span> <span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">AG_SCREEN_ID</span><span class="o">?</span> <span class="o">and</span> <span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">AG_LAYER_ID</span><span class="o">?</span> <span class="o">and</span> <span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">AG_VIEW_ID</span><span class="o">?</span>
      <span class="nx">@send</span> <span class="s">&quot;mapWebSocketConnectionToContext&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nv">parameters: </span><span class="p">{</span><span class="nv">screen: </span><span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">AG_SCREEN_ID</span><span class="p">,</span> <span class="nv">layer: </span><span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">AG_LAYER_ID</span><span class="p">,</span> <span class="nv">view: </span><span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">AG_VIEW_ID</span> <span class="p">}</span> <span class="p">}</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Handles incoming API messages</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">message_handler: </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">=&gt;</span>
    <span class="nv">data = </span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>

    <span class="k">if</span> <span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">callback</span><span class="o">?</span>
      <span class="k">if</span> <span class="nx">@callbacks</span><span class="p">[</span><span class="nx">data</span><span class="p">.</span><span class="nx">callback</span><span class="p">]</span><span class="o">?</span>
        <span class="nx">@callbacks</span><span class="p">[</span><span class="nx">data</span><span class="p">.</span><span class="nx">callback</span><span class="p">].</span><span class="nx">call</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">parameters</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">parameters</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Send client requests via websocket, this function takes care of callback returns (pass options.succcess &amp; options.failure)</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">send: </span><span class="p">(</span><span class="nx">options</span><span class="p">)</span><span class="o">=&gt;</span>
    <span class="nv">method = </span><span class="nx">options</span><span class="p">.</span><span class="nx">method</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>human readable names for callbacks</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="nx">options</span><span class="o">?</span><span class="p">.</span><span class="nx">callbacks</span><span class="o">?</span>
      <span class="nv">callback_name = </span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">method</span><span class="si">}</span><span class="s">_</span><span class="si">#{</span><span class="nx">@uid</span><span class="o">++</span><span class="si">}</span><span class="s">&quot;</span>
      <span class="nv">callbacks = </span><span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Store the recurring callback</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">recurring</span><span class="o">?</span>
        <span class="nv">callbacks.recurring = </span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">callback_name</span><span class="si">}</span><span class="s">_recurring&quot;</span>
        <span class="nx">@callbacks</span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">recurring</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">parameters</span><span class="p">)</span><span class="o">=&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Trigger callback</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="nx">options</span><span class="p">.</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">recurring</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">parameters</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Store the success callback</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">success</span><span class="o">?</span>
        <span class="nv">callbacks.success = </span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">callback_name</span><span class="si">}</span><span class="s">_success&quot;</span>
        <span class="nx">@callbacks</span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">success</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">parameters</span><span class="p">)</span><span class="o">=&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Remove both callbacks on success (as they are no longer required)</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="k">delete</span> <span class="nx">@callbacks</span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">success</span><span class="p">]</span>
          <span class="k">delete</span> <span class="nx">@callbacks</span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">failure</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Trigger callback</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="nx">options</span><span class="p">.</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">success</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">parameters</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Store the failure callback</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">failure</span><span class="o">?</span>
        <span class="nv">callbacks.failure = </span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">callback_name</span><span class="si">}</span><span class="s">_fail&quot;</span>
        <span class="nx">@callbacks</span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">failure</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">parameters</span><span class="p">)</span><span class="o">=&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Remove both callbacks on failure too (as they are no longer required)</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="k">delete</span> <span class="nx">@callbacks</span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">success</span><span class="p">]</span>
          <span class="k">delete</span> <span class="nx">@callbacks</span><span class="p">[</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">failure</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Trigger callback</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="nx">options</span><span class="p">.</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">failure</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">parameters</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">)</span>
    <span class="k">else</span>
      <span class="nv">callbacks = </span><span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Build the request object for native API</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">request =</span>
      <span class="nv">method: </span><span class="nx">method</span>
      <span class="nv">parameters: </span><span class="k">if</span> <span class="nx">options</span><span class="o">?</span><span class="p">.</span><span class="nx">parameters</span><span class="o">?</span> <span class="k">then</span> <span class="nx">options</span><span class="p">.</span><span class="nx">parameters</span> <span class="k">else</span> <span class="p">{}</span>
      <span class="nv">callbacks: </span><span class="nx">callbacks</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Add context parameters</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">request</span><span class="p">.</span><span class="nx">parameters</span><span class="p">[</span><span class="s">&quot;view&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">AG_VIEW_ID</span>
    <span class="nx">request</span><span class="p">.</span><span class="nx">parameters</span><span class="p">[</span><span class="s">&quot;screen&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">AG_SCREEN_ID</span>
    <span class="nx">request</span><span class="p">.</span><span class="nx">parameters</span><span class="p">[</span><span class="s">&quot;layer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">AG_LAYER_ID</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>console.log(request)
Ensure websocket is open before sending anything</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="nx">@websocket</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">is</span> <span class="mi">0</span>
      <span class="nx">@websocket</span><span class="p">.</span><span class="nx">addEventListener</span> <span class="s">&quot;open&quot;</span><span class="p">,</span> <span class="p">()</span><span class="o">=&gt;</span>
         <span class="nx">@websocket</span><span class="p">.</span><span class="nx">send</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span> <span class="nx">request</span>
    <span class="k">else</span>
      <span class="nx">@websocket</span><span class="p">.</span><span class="nx">send</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span> <span class="nx">request</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 